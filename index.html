<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ğŸ”¥ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„ØªØ­ÙˆÙ„ Ø§Ù„Ø¹Ø¶Ù„ÙŠ - Ø£Ø­Ù…Ø¯ Ø§Ù„Ø­Ø¯ÙŠØ¯ Ø§Ù„Ø³Ø¹ÙŠØ¯</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap');
  
  :root {
    --primary: #d62828;
    --primary-dark: #a4161a;
    --secondary: #f77f00;
    --accent: #003049;
    --success: #06d6a0;
    --warning: #ffd60a;
    --danger: #e63946;
    --bg-light: #fafafa;
    --bg-dark: #1a1a1a;
    --surface-light: #ffffff;
    --surface-dark: #2d2d2d;
    --text-light: #333333;
    --text-dark: #ffffff;
    --text-muted: #666666;
    --border-light: #e0e0e0;
    --border-dark: #404040;
    --shadow: 0 4px 20px rgba(0,0,0,0.1);
    --shadow-dark: 0 4px 20px rgba(0,0,0,0.3);
    --gradient-primary: linear-gradient(135deg, var(--primary), var(--primary-dark));
    --gradient-secondary: linear-gradient(135deg, var(--secondary), #e76f00);
    --gradient-accent: linear-gradient(135deg, var(--accent), #004466);
    --border-radius: 12px;
    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: 'Cairo', sans-serif;
    background: var(--bg-light);
    color: var(--text-light);
    line-height: 1.6;
    transition: var(--transition);
    padding: 20px;
    min-height: 100vh;
  }

  body.dark-mode {
    background: var(--bg-dark);
    color: var(--text-dark);
  }

  /* Header */
  .header {
    text-align: center;
    margin-bottom: 40px;
    position: relative;
  }

  .header h1 {
    font-size: 2.5rem;
    font-weight: 900;
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 10px;
    text-shadow: 0 2px 10px rgba(214, 40, 40, 0.3);
  }

  .header .subtitle {
    font-size: 1.1rem;
    color: var(--text-muted);
    font-weight: 400;
  }

  /* Dark Mode Toggle */
  .dark-mode-toggle {
    position: fixed;
    top: 20px;
    left: 20px;
    z-index: 1000;
    display: flex;
    align-items: center;
    gap: 10px;
    background: var(--surface-light);
    padding: 10px 15px;
    border-radius: 25px;
    box-shadow: var(--shadow);
    cursor: pointer;
    transition: var(--transition);
    font-weight: 600;
  }

  body.dark-mode .dark-mode-toggle {
    background: var(--surface-dark);
    box-shadow: var(--shadow-dark);
  }

  .toggle-switch {
    position: relative;
    width: 50px;
    height: 25px;
    background: var(--border-light);
    border-radius: 25px;
    transition: var(--transition);
    cursor: pointer;
  }

  .toggle-switch.active {
    background: var(--gradient-primary);
  }

  .toggle-switch::before {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px;
    width: 21px;
    height: 21px;
    background: white;
    border-radius: 50%;
    transition: var(--transition);
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  }

  .toggle-switch.active::before {
    transform: translateX(25px);
  }

  /* Container */
  .container {
    max-width: 1200px;
    margin: 0 auto;
  }

  /* Cards */
  .card {
    background: var(--surface-light);
    border-radius: var(--border-radius);
    padding: 25px;
    margin-bottom: 30px;
    box-shadow: var(--shadow);
    transition: var(--transition);
    border: 1px solid var(--border-light);
  }

  body.dark-mode .card {
    background: var(--surface-dark);
    border-color: var(--border-dark);
    box-shadow: var(--shadow-dark);
  }

  .card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(0,0,0,0.15);
  }

  .card-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid var(--border-light);
  }

  body.dark-mode .card-header {
    border-bottom-color: var(--border-dark);
  }

  .card-header h2 {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--accent);
  }

  body.dark-mode .card-header h2 {
    color: var(--secondary);
  }

  /* Dashboard Stats */
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-bottom: 40px;
  }

  .stat-card {
    background: var(--gradient-primary);
    color: white;
    padding: 25px;
    border-radius: var(--border-radius);
    text-align: center;
    box-shadow: var(--shadow);
    transition: var(--transition);
    position: relative;
    overflow: hidden;
  }

  .stat-card::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    width: 100%;
    height: 100%;
    background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
    transform: rotate(45deg);
    transition: var(--transition);
  }

  .stat-card:hover::before {
    animation: shimmer 1s ease-in-out;
  }

  @keyframes shimmer {
    0% { transform: translateX(-100%) rotate(45deg); }
    100% { transform: translateX(200%) rotate(45deg); }
  }

  .stat-card:nth-child(2) {
    background: var(--gradient-secondary);
  }

  .stat-card:nth-child(3) {
    background: var(--gradient-accent);
  }

  .stat-card h3 {
    font-size: 0.9rem;
    font-weight: 600;
    margin-bottom: 10px;
    opacity: 0.9;
  }

  .stat-card .value {
    font-size: 2rem;
    font-weight: 900;
    margin-bottom: 5px;
  }

  .stat-card .change {
    font-size: 0.8rem;
    opacity: 0.8;
  }

  /* Form Elements */
  .form-group {
    margin-bottom: 20px;
  }

  .form-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    align-items: end;
  }

  label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: var(--text-light);
  }

  body.dark-mode label {
    color: var(--text-dark);
  }

  input, select, textarea {
    width: 100%;
    padding: 12px 15px;
    border: 2px solid var(--border-light);
    border-radius: var(--border-radius);
    font-family: 'Cairo', sans-serif;
    font-size: 1rem;
    transition: var(--transition);
    background: var(--surface-light);
    color: var(--text-light);
  }

  body.dark-mode input,
  body.dark-mode select,
  body.dark-mode textarea {
    background: var(--surface-dark);
    border-color: var(--border-dark);
    color: var(--text-dark);
  }

  input:focus, select:focus, textarea:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(214, 40, 40, 0.1);
  }

  /* Buttons */
  .btn {
    padding: 12px 24px;
    border: none;
    border-radius: var(--border-radius);
    font-family: 'Cairo', sans-serif;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
    display: inline-flex;
    align-items: center;
    gap: 8px;
    text-decoration: none;
    position: relative;
    overflow: hidden;
  }

  .btn-primary {
    background: var(--gradient-primary);
    color: white;
  }

  .btn-secondary {
    background: var(--gradient-secondary);
    color: white;
  }

  .btn-success {
    background: var(--success);
    color: white;
  }

  .btn-outline {
    background: transparent;
    border: 2px solid var(--primary);
    color: var(--primary);
  }

  .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  }

  .btn:active {
    transform: translateY(0);
  }

  /* Tables */
  .table-container {
    overflow-x: auto;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow);
  }

  table {
    width: 100%;
    border-collapse: collapse;
    background: var(--surface-light);
    border-radius: var(--border-radius);
    overflow: hidden;
  }

  body.dark-mode table {
    background: var(--surface-dark);
  }

  th, td {
    padding: 15px;
    text-align: center;
    border-bottom: 1px solid var(--border-light);
  }

  body.dark-mode th,
  body.dark-mode td {
    border-bottom-color: var(--border-dark);
  }

  th {
    background: var(--gradient-primary);
    color: white;
    font-weight: 700;
    position: sticky;
    top: 0;
    z-index: 10;
  }

  tr:hover {
    background: rgba(214, 40, 40, 0.05);
  }

  body.dark-mode tr:hover {
    background: rgba(214, 40, 40, 0.1);
  }

  /* Modal */
  .modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    backdrop-filter: blur(5px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: var(--transition);
  }

  .modal.active {
    opacity: 1;
    visibility: visible;
  }

  .modal-content {
    background: var(--surface-light);
    padding: 30px;
    border-radius: var(--border-radius);
    max-width: 500px;
    width: 90%;
    max-height: 80vh;
    overflow-y: auto;
    box-shadow: var(--shadow-dark);
    transform: scale(0.9);
    transition: var(--transition);
  }

  body.dark-mode .modal-content {
    background: var(--surface-dark);
  }

  .modal.active .modal-content {
    transform: scale(1);
  }

  .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid var(--border-light);
  }

  body.dark-mode .modal-header {
    border-bottom-color: var(--border-dark);
  }

  .close-btn {
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: var(--text-muted);
    padding: 5px;
    border-radius: 50%;
    transition: var(--transition);
  }

  .close-btn:hover {
    background: var(--danger);
    color: white;
  }

  /* Timer */
  .timer-display {
    text-align: center;
    padding: 20px;
    background: var(--gradient-primary);
    color: white;
    border-radius: var(--border-radius);
    margin: 20px 0;
    font-size: 1.2rem;
    font-weight: 700;
  }

  .timer-display.finished {
    background: var(--success);
    animation: pulse 1s infinite;
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }

  /* Charts Container */
  .charts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 30px;
    margin-top: 30px;
  }

  .chart-container {
    background: var(--surface-light);
    padding: 20px;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow);
  }

  body.dark-mode .chart-container {
    background: var(--surface-dark);
  }

  /* Progress Indicators */
  .progress-bar {
    width: 100%;
    height: 8px;
    background: var(--border-light);
    border-radius: 4px;
    overflow: hidden;
    margin: 10px 0;
  }

  body.dark-mode .progress-bar {
    background: var(--border-dark);
  }

  .progress-fill {
    height: 100%;
    background: var(--gradient-primary);
    border-radius: 4px;
    transition: width 0.5s ease;
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .container {
      padding: 0 10px;
    }
    
    .stats-grid {
      grid-template-columns: 1fr;
    }
    
    .form-row {
      grid-template-columns: 1fr;
    }
    
    .dark-mode-toggle {
      position: relative;
      margin-bottom: 20px;
    }
    
    .header h1 {
      font-size: 2rem;
    }
    
    .charts-grid {
      grid-template-columns: 1fr;
    }
  }

  /* Utilities */
  .hidden { display: none !important; }
  .text-center { text-align: center; }
  .text-muted { color: var(--text-muted); }
  .mb-20 { margin-bottom: 20px; }
  .mt-20 { margin-top: 20px; }

  /* Custom Scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: var(--bg-light);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--primary);
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--primary-dark);
  }

  body.dark-mode ::-webkit-scrollbar-track {
    background: var(--bg-dark);
  }

  /* Animations */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .card {
    animation: fadeInUp 0.6s ease;
  }

  .card:nth-child(1) { animation-delay: 0.1s; }
  .card:nth-child(2) { animation-delay: 0.2s; }
  .card:nth-child(3) { animation-delay: 0.3s; }
  .card:nth-child(4) { animation-delay: 0.4s; }
</style>
</head>
<body>

<div class="dark-mode-toggle" onclick="toggleDarkMode()">
  <span>ğŸŒ™</span>
  <div class="toggle-switch" id="toggleSwitch"></div>
  <span>ğŸŒ</span>
</div>

<div class="container">
  <header class="header">
    <h1>ğŸ”¥ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„ØªØ­ÙˆÙ„ Ø§Ù„Ø¹Ø¶Ù„ÙŠ</h1>
    <p class="subtitle">Ø£Ø­Ù…Ø¯ "Ø§Ù„Ø­Ø¯ÙŠØ¯" Ø§Ù„Ø³Ø¹ÙŠØ¯ - Ø±Ø­Ù„ØªÙƒ Ù†Ø­Ùˆ Ø§Ù„Ù‚ÙˆØ© ÙˆØ§Ù„Ø¹Ø¶Ù„Ø§Øª</p>
  </header>

  <!-- Dashboard Stats -->
  <div class="stats-grid">
    <div class="stat-card">
      <h3>Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</h3>
      <div class="value" id="caloriesValue">--</div>
      <div class="change">ÙƒØ§Ù„ÙˆØ±ÙŠ</div>
    </div>
    <div class="stat-card">
      <h3>Ø¢Ø®Ø± ÙˆØ²Ù† Ù…Ø³Ø¬Ù„</h3>
      <div class="value" id="weightValue">--</div>
      <div class="change">ÙƒÙŠÙ„ÙˆØ¬Ø±Ø§Ù…</div>
    </div>
    <div class="stat-card">
      <h3>Ø¢Ø®Ø± ØªÙ…Ø±ÙŠÙ†</h3>
      <div class="value" id="workoutValue">--</div>
      <div class="change">ØªÙ… ØªØ³Ø¬ÙŠÙ„Ù‡</div>
    </div>
  </div>

  <!-- User Info Card -->
  <div class="card">
    <div class="card-header">
      <h2>ğŸ‘¤ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</h2>
    </div>
    <div class="form-row">
      <div class="form-group">
        <label for="weight">Ø§Ù„ÙˆØ²Ù† (ÙƒØ¬Ù…)</label>
        <input type="number" id="weight" min="30" max="200" value="70" />
      </div>
      <div class="form-group">
        <label for="height">Ø§Ù„Ø·ÙˆÙ„ (Ø³Ù…)</label>
        <input type="number" id="height" min="130" max="230" value="178" />
      </div>
      <div class="form-group">
        <label for="age">Ø§Ù„Ø¹Ù…Ø±</label>
        <input type="number" id="age" min="15" max="80" value="25" />
      </div>
      <div class="form-group">
        <button class="btn btn-primary" onclick="calculateMacros()">
          ğŸ§® Ø§Ø­Ø³Ø¨ Ø§Ù„Ø³Ø¹Ø±Ø§Øª ÙˆØ§Ù„Ù…Ø§ÙƒØ±ÙˆØ²
        </button>
      </div>
    </div>
    <div id="macroResults" class="mt-20"></div>
  </div>

  <!-- Training Schedule -->
  <div class="card">
  <div class="card-header">
    <h2>ğŸ—“ï¸ Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ</h2>
  </div>
  <div class="table-container" style="overflow-x:auto;">
    <table>
      <thead>
        <tr>
          <th>Ø§Ù„ÙŠÙˆÙ…</th>
          <th>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ø¹Ø¶Ù„ÙŠØ©</th>
          <th>Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† Ù…Ø¹ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ã— Ø§Ù„ØªÙƒØ±Ø§Ø±Ø§Øª</th>
          <th>Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Ø§Ù„ÙŠÙˆÙ… 1</td>
          <td>Ø§Ù„ØµØ¯Ø± + Ø§Ù„ØªØ±Ø§ÙŠØ³Ø¨Ø³</td>
          <td>
            <ul style="text-align: right; direction: rtl; padding-right: 15px; margin: 0;">
              <li>Push-Ups Ù…ØªÙ†ÙˆØ¹Ø©: 4 Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ã— 12-15 ØªÙƒØ±Ø§Ø±</li>
              <li>Dips: 3 Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ã— 8-12 ØªÙƒØ±Ø§Ø±</li>
              <li>Diamond Push-ups: 3 Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ã— 10-12 ØªÙƒØ±Ø§Ø±</li>
            </ul>
          </td>
          <td>45-60 Ø¯Ù‚ÙŠÙ‚Ø©</td>
        </tr>
        <tr>
          <td>Ø§Ù„ÙŠÙˆÙ… 2</td>
          <td>Ø§Ù„Ø¸Ù‡Ø± + Ø§Ù„Ø¨Ø§ÙŠØ³Ø¨Ø³</td>
          <td>
            <ul style="text-align: right; direction: rtl; padding-right: 15px; margin: 0;">
              <li>Pull-ups: 4 Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ã— 6-10 ØªÙƒØ±Ø§Ø±</li>
              <li>Body Rows: 3 Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ã— 10-12 ØªÙƒØ±Ø§Ø±</li>
              <li>Towel Curls: 3 Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ã— 12-15 ØªÙƒØ±Ø§Ø±</li>
            </ul>
          </td>
          <td>45-60 Ø¯Ù‚ÙŠÙ‚Ø©</td>
        </tr>
        <tr>
          <td>Ø§Ù„ÙŠÙˆÙ… 3</td>
          <td>Ø§Ù„Ø£Ø±Ø¬Ù„ + Ø§Ù„Ø¬Ù„ÙˆØªØ³</td>
          <td>
            <ul style="text-align: right; direction: rtl; padding-right: 15px; margin: 0;">
              <li>Squats: 4 Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ã— 15-20 ØªÙƒØ±Ø§Ø±</li>
              <li>Lunges: 3 Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ã— 12 ØªÙƒØ±Ø§Ø± Ù„ÙƒÙ„ Ø³Ø§Ù‚</li>
              <li>Bulgarian Squats: 3 Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ã— 10-12 ØªÙƒØ±Ø§Ø± Ù„ÙƒÙ„ Ø³Ø§Ù‚</li>
              <li>Wall Sits: 3 Ù…Ø±Ø§Øª Ã— 45-60 Ø«Ø§Ù†ÙŠØ©</li>
            </ul>
          </td>
          <td>50-70 Ø¯Ù‚ÙŠÙ‚Ø©</td>
        </tr>
        <tr>
          <td>Ø§Ù„ÙŠÙˆÙ… 4</td>
          <td>Ø§Ù„Ø£ÙƒØªØ§Ù + Ø§Ù„ÙƒÙˆØ±</td>
          <td>
            <ul style="text-align: right; direction: rtl; padding-right: 15px; margin: 0;">
              <li>Pike Push-ups: 4 Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ã— 10-12 ØªÙƒØ±Ø§Ø±</li>
              <li>Handstand Hold (Ø¯Ø¹Ù… Ø§Ù„Ø­Ø§Ø¦Ø· Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø±): 3 Ù…Ø±Ø§Øª Ã— 20-30 Ø«Ø§Ù†ÙŠØ©</li>
              <li>Plank Variations (Ø¨Ù„Ø§Ù†Ùƒ Ø¹Ø§Ø¯ÙŠ + Ø¨Ù„Ø§Ù†Ùƒ Ø¬Ø§Ù†Ø¨ÙŠ): 3 Ù…Ø±Ø§Øª Ã— 30-45 Ø«Ø§Ù†ÙŠØ© Ù„ÙƒÙ„ Ù†ÙˆØ¹</li>
            </ul>
          </td>
          <td>40-55 Ø¯Ù‚ÙŠÙ‚Ø©</td>
        </tr>
        <tr>
          <td>Ø§Ù„ÙŠÙˆÙ… 5</td>
          <td>ØªÙ…Ø§Ø±ÙŠÙ† Ù…Ø±ÙƒØ¨Ø©</td>
          <td>
            <ul style="text-align: right; direction: rtl; padding-right: 15px; margin: 0;">
              <li>Burpees: 4 Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ã— 12-15 ØªÙƒØ±Ø§Ø±</li>
              <li>Mountain Climbers: 4 Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ã— 30 Ø«Ø§Ù†ÙŠØ© Ø¨ÙˆØªÙŠØ±Ø© Ø¹Ø§Ù„ÙŠØ©</li>
              <li>HIIT Circuit (ØªÙ…Ø±ÙŠÙ† Ø¯Ø§Ø¦Ø±ÙŠ Ø¹Ø§Ù„ÙŠ Ø§Ù„ÙƒØ«Ø§ÙØ© - Ù…Ø«Ù„ Ø§Ù„Ù‚ÙØ²ØŒ Ø§Ù„Ù‚Ø±ÙØµØ§Ø¡ØŒ Ø§Ù„Ø¯ÙØ¹): 20-25 Ø¯Ù‚ÙŠÙ‚Ø© Ù…Ø¹ ÙØªØ±Ø§Øª Ø±Ø§Ø­Ø© Ù‚ØµÙŠØ±Ø©</li>
            </ul>
          </td>
          <td>35-50 Ø¯Ù‚ÙŠÙ‚Ø©</td>
        </tr>
        <tr>
          <td>Ø§Ù„ÙŠÙˆÙ… 6</td>
          <td>Ø§Ø³ØªØ´ÙØ§Ø¡ Ù†Ø´Ø·</td>
          <td>
            <ul style="text-align: right; direction: rtl; padding-right: 15px; margin: 0;">
              <li>Yoga (ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„ÙŠÙˆØºØ§ Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø±ÙˆÙ†Ø©): 30 Ø¯Ù‚ÙŠÙ‚Ø©</li>
              <li>Stretching (ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„ØªÙ…Ø¯Ø¯ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ø¶Ù„Ø§Øª): 15-20 Ø¯Ù‚ÙŠÙ‚Ø©</li>
              <li>ØªÙ…Ø§Ø±ÙŠÙ† Ø­Ø±ÙƒÙŠØ© Ø®ÙÙŠÙØ© (Ù…Ø´ÙŠØŒ Ø­Ø±ÙƒØ© Ù…ÙØ§ØµÙ„): 15 Ø¯Ù‚ÙŠÙ‚Ø©</li>
            </ul>
          </td>
          <td>30-45 Ø¯Ù‚ÙŠÙ‚Ø©</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>


  <!-- Nutrition Plan -->
  <div class="card">
    <div class="card-header">
      <h2>ğŸ½ï¸ Ø®Ø·Ø© Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</h2>
    </div>
    <div class="table-container">
      <table>
        <thead>
          <tr><th>Ø§Ù„ÙˆØ¬Ø¨Ø©</th><th>Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØºØ°Ø§Ø¦ÙŠ</th><th>Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ</th><th>Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠØ©</th></tr>
        </thead>
        <tbody>
          <tr><td>Ø§Ù„Ø¥ÙØ·Ø§Ø±</td><td>3 Ø¨ÙŠØ¶ + Ø´ÙˆÙØ§Ù† + Ù…ÙˆØ²Ø© + Ø²Ø¨Ø¯Ø© Ù„ÙˆØ²</td><td>Ø®Ù„Ø§Ù„ Ø³Ø§Ø¹Ø© Ù…Ù† Ø§Ù„Ø§Ø³ØªÙŠÙ‚Ø§Ø¸</td><td>450-500 ÙƒØ§Ù„ÙˆØ±ÙŠ</td></tr>
          <tr><td>Ø³Ù†Ø§Ùƒ ØµØ¨Ø§Ø­ÙŠ</td><td>Ø²Ø¨Ø§Ø¯ÙŠ ÙŠÙˆÙ†Ø§Ù†ÙŠ + Ø¹Ø³Ù„ + ØªÙˆØª</td><td>Ø¨Ø¹Ø¯ 2-3 Ø³Ø§Ø¹Ø§Øª Ù…Ù† Ø§Ù„Ø¥ÙØ·Ø§Ø±</td><td>200-250 ÙƒØ§Ù„ÙˆØ±ÙŠ</td></tr>
          <tr><td>Ø§Ù„ØºØ¯Ø§Ø¡</td><td>ØµØ¯Ø± Ø¯Ø¬Ø§Ø¬ + Ø£Ø±Ø² Ø¨Ù†ÙŠ + Ø®Ø¶Ø§Ø± Ù…Ø´ÙƒÙ„Ø©</td><td>Ù…Ù†ØªØµÙ Ø§Ù„ÙŠÙˆÙ…</td><td>600-700 ÙƒØ§Ù„ÙˆØ±ÙŠ</td></tr>
          <tr><td>Ù…Ø§ Ù‚Ø¨Ù„ Ø§Ù„ØªÙ…Ø±ÙŠÙ†</td><td>Ù…ÙˆØ²Ø© + Ù‚Ù‡ÙˆØ© + Ø­ÙÙ†Ø© ØªÙ…Ø±</td><td>30-60 Ø¯Ù‚ÙŠÙ‚Ø© Ù‚Ø¨Ù„ Ø§Ù„ØªÙ…Ø±ÙŠÙ†</td><td>150-200 ÙƒØ§Ù„ÙˆØ±ÙŠ</td></tr>
          <tr><td>Ù…Ø§ Ø¨Ø¹Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠÙ†</td><td>Ø¨Ø±ÙˆØªÙŠÙ† Ø´ÙŠÙƒ + ÙØ§ÙƒÙ‡Ø©</td><td>Ø®Ù„Ø§Ù„ 30 Ø¯Ù‚ÙŠÙ‚Ø© Ù…Ù† Ø§Ù„ØªÙ…Ø±ÙŠÙ†</td><td>250-300 ÙƒØ§Ù„ÙˆØ±ÙŠ</td></tr>
          <tr><td>Ø§Ù„Ø¹Ø´Ø§Ø¡</td><td>Ø³Ù…Ùƒ + Ø¨Ø·Ø§Ø·Ø§ Ø­Ù„ÙˆØ© + Ø³Ù„Ø·Ø©</td><td>Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ… Ø¨Ù€ 2-3 Ø³Ø§Ø¹Ø§Øª</td><td>500-550 ÙƒØ§Ù„ÙˆØ±ÙŠ</td></tr>
        </tbody>
      </table>
    </div>
    
    <div class="text-center mt-20">
      <button class="btn btn-success" onclick="startMealTimer()">
        â° Ø§Ø¨Ø¯Ø£ Ù…Ø¤Ù‚Øª Ø§Ù„ÙˆØ¬Ø¨Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© (2 Ø³Ø§Ø¹Ø©)
      </button>
    </div>
    <div id="mealTimerDisplay" class="hidden"></div>
  </div>

  <!-- Measurements Tracking -->
  <div class="card">
    <div class="card-header">
      <h2>ğŸ“ˆ ØªØªØ¨Ø¹ Ø§Ù„Ù‚ÙŠØ§Ø³Ø§Øª</h2>
      <button class="btn btn-primary" onclick="showMeasurementModal()">
        â• Ø¥Ø¶Ø§ÙØ© Ù‚ÙŠØ§Ø³ Ø¬Ø¯ÙŠØ¯
      </button>
    </div>
    <div class="table-container">
      <table id="measurementsTable">
        <thead>
          <tr>
            <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
            <th>Ø§Ù„ÙˆØ²Ù† (ÙƒØ¬Ù…)</th>
            <th>Ø§Ù„Ø°Ø±Ø§Ø¹ (Ø³Ù…)</th>
            <th>Ø§Ù„ØµØ¯Ø± (Ø³Ù…)</th>
            <th>Ø§Ù„Ø®ØµØ± (Ø³Ù…)</th>
            <th>Ø§Ù„ÙØ®Ø° (Ø³Ù…)</th>
            <th>Ø¯Ù‡ÙˆÙ† Ø§Ù„Ø¬Ø³Ù… (%)</th>
            <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

  <!-- Workout Log -->
  <div class="card">
    <div class="card-header">
      <h2>ğŸ’ª Ø³Ø¬Ù„ Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ†</h2>
      <button class="btn btn-secondary" onclick="showWorkoutModal()">
        â• Ø¥Ø¶Ø§ÙØ© ØªÙ…Ø±ÙŠÙ†
      </button>
    </div>
    <div class="table-container">
      <table id="workoutTable">
        <thead>
          <tr>
            <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
            <th>Ø§Ù„ØªÙ…Ø±ÙŠÙ†</th>
            <th>Ø§Ù„Ø¹Ø¶Ù„Ø§Øª</th>
            <th>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ã— Ø§Ù„ØªÙƒØ±Ø§Ø±Ø§Øª</th>
            <th>Ø§Ù„Ø´Ø¯Ø© (RPE)</th>
            <th>Ø§Ù„Ù…Ø¯Ø©</th>
            <th>Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</th>
            <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

  <!-- Progress Charts -->
  <div class="card">
    <div class="card-header">
      <h2>ğŸ“Š Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© Ù„Ù„ØªÙ‚Ø¯Ù…</h2>
    </div>
    <div class="charts-grid">
      <div class="chart-container">
        <h3 class="text-center mb-20">ØªØ·ÙˆØ± Ø§Ù„ÙˆØ²Ù†</h3>
        <canvas id="weightChart" height="200"></canvas>
      </div>
      <div class="chart-container">
        <h3 class="text-center mb-20">ØªØ·ÙˆØ± Ù…Ø­ÙŠØ· Ø§Ù„Ø°Ø±Ø§Ø¹</h3>
        <canvas id="armChart" height="200"></canvas>
      </div>
      <div class="chart-container">
        <h3 class="text-center mb-20">ØªØ·ÙˆØ± Ù…Ø­ÙŠØ· Ø§Ù„ØµØ¯Ø±</h3>
        <canvas id="chestChart" height="200"></canvas>
      </div>
    </div>
  </div>

  <!-- Supplements & Recovery -->
  <div class="card">
    <div class="card-header">
      <h2>ğŸ’Š Ø§Ù„Ù…ÙƒÙ…Ù„Ø§Øª ÙˆØ§Ù„Ø§Ø³ØªØ´ÙØ§Ø¡</h2>
    </div>
    <div class="form-row">
      <div class="form-group">
        <h3>ğŸ¥¤ Ø§Ù„Ù…ÙƒÙ…Ù„Ø§Øª Ø§Ù„Ù…Ù†ØµÙˆØ­ Ø¨Ù‡Ø§:</h3>
        <ul style="text-align: right; padding-right: 20px;">
          <li><strong>Ø¨Ø±ÙˆØªÙŠÙ† Ù…ØµÙ„ Ø§Ù„Ù„Ø¨Ù†:</strong> 25-30Ø¬Ù… Ø¨Ø¹Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠÙ†</li>
          <li><strong>Ø§Ù„ÙƒØ±ÙŠØ§ØªÙŠÙ†:</strong> 5Ø¬Ù… ÙŠÙˆÙ…ÙŠØ§Ù‹ Ù…Ø¹ Ø§Ù„Ù…Ø§Ø¡</li>
          <li><strong>Ø£ÙˆÙ…ÙŠØºØ§-3:</strong> 1-2Ø¬Ù… Ù…Ø¹ Ø§Ù„Ø·Ø¹Ø§Ù…</li>
          <li><strong>ÙÙŠØªØ§Ù…ÙŠÙ† Ø¯:</strong> 2000-4000 ÙˆØ­Ø¯Ø© Ø¯ÙˆÙ„ÙŠØ©</li>
          <li><strong>Ø§Ù„Ø²Ù†Ùƒ ÙˆØ§Ù„Ù…ØºÙ†ÙŠØ³ÙŠÙˆÙ…:</strong> Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ…</li>
        </ul>
      </div>
      <div class="form-group">
        <h3>ğŸ˜´ Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ø§Ø³ØªØ´ÙØ§Ø¡:</h3>
        <ul style="text-align: right; padding-right: 20px;">
          <li>Ù†ÙˆÙ… 7-9 Ø³Ø§Ø¹Ø§Øª ÙŠÙˆÙ…ÙŠØ§Ù‹</li>
          <li>Ø´Ø±Ø¨ 3-4 Ù„ØªØ± Ù…Ø§Ø¡ ÙŠÙˆÙ…ÙŠØ§Ù‹</li>
          <li>ØªÙ…Ø§Ø±ÙŠÙ† ØªÙ…Ø¯Ø¯ ÙŠÙˆÙ…ÙŠØ©</li>
          <li>ÙŠÙˆÙ… Ø±Ø§Ø­Ø© ÙƒØ§Ù…Ù„ Ø£Ø³Ø¨ÙˆØ¹ÙŠØ§Ù‹</li>
          <li>ØªØ¬Ù†Ø¨ Ø§Ù„ØªÙˆØªØ± ÙˆØ§Ù„Ø¶ØºØ·</li>
        </ul>
      </div>
    </div>
  </div>
</div>

<!-- Measurement Modal -->
<div id="measurementModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3>Ø¥Ø¶Ø§ÙØ© Ù‚ÙŠØ§Ø³ Ø¬Ø¯ÙŠØ¯</h3>
      <button class="close-btn" onclick="closeMeasurementModal()">&times;</button>
    </div>
    <form id="measurementForm">
      <div class="form-group">
        <label for="measurementDate">Ø§Ù„ØªØ§Ø±ÙŠØ®</label>
        <input type="date" id="measurementDate" required />
      </div>
      <div class="form-group">
        <label for="measurementWeight">Ø§Ù„ÙˆØ²Ù† (ÙƒØ¬Ù…)</label>
        <input type="number" id="measurementWeight" min="30" max="200" step="0.1" required />
      </div>
      <div class="form-group">
        <label for="measurementArm">Ù…Ø­ÙŠØ· Ø§Ù„Ø°Ø±Ø§Ø¹ (Ø³Ù…)</label>
        <input type="number" id="measurementArm" min="10" max="80" step="0.1" required />
      </div>
      <div class="form-group">
        <label for="measurementChest">Ù…Ø­ÙŠØ· Ø§Ù„ØµØ¯Ø± (Ø³Ù…)</label>
        <input type="number" id="measurementChest" min="50" max="150" step="0.1" required />
      </div>
      <div class="form-group">
        <label for="measurementWaist">Ø§Ù„Ø®ØµØ± (Ø³Ù…)</label>
        <input type="number" id="measurementWaist" min="40" max="150" step="0.1" required />
      </div>
      <div class="form-group">
        <label for="measurementThigh">Ù…Ø­ÙŠØ· Ø§Ù„ÙØ®Ø° (Ø³Ù…)</label>
        <input type="number" id="measurementThigh" min="30" max="100" step="0.1" required />
      </div>
      <div class="form-group">
        <label for="measurementBodyFat">Ø¯Ù‡ÙˆÙ† Ø§Ù„Ø¬Ø³Ù… (%)</label>
        <input type="number" id="measurementBodyFat" min="5" max="60" step="0.1" required />
      </div>
      <div class="form-group text-center">
        <button type="submit" class="btn btn-primary">Ø­ÙØ¸ Ø§Ù„Ù‚ÙŠØ§Ø³</button>
        <button type="button" class="btn btn-outline" onclick="closeMeasurementModal()">Ø¥Ù„ØºØ§Ø¡</button>
      </div>
    </form>
  </div>
</div>

<!-- Workout Modal -->
<div id="workoutModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3>Ø¥Ø¶Ø§ÙØ© ØªÙ…Ø±ÙŠÙ† Ø¬Ø¯ÙŠØ¯</h3>
      <button class="close-btn" onclick="closeWorkoutModal()">&times;</button>
    </div>
    <form id="workoutForm">
      <div class="form-group">
        <label for="workoutDate">Ø§Ù„ØªØ§Ø±ÙŠØ®</label>
        <input type="date" id="workoutDate" required />
      </div>
      <div class="form-group">
        <label for="workoutName">Ø§Ø³Ù… Ø§Ù„ØªÙ…Ø±ÙŠÙ†</label>
        <input type="text" id="workoutName" placeholder="Ù…Ø«Ø§Ù„: Push-Ups" required />
      </div>
      <div class="form-group">
        <label for="workoutMuscles">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ø¹Ø¶Ù„ÙŠØ©</label>
        <input type="text" id="workoutMuscles" placeholder="Ù…Ø«Ø§Ù„: Ø§Ù„ØµØ¯Ø±ØŒ Ø§Ù„ØªØ±Ø§ÙŠØ³Ø¨Ø³" required />
      </div>
      <div class="form-group">
        <label for="workoutSetsReps">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ã— Ø§Ù„ØªÙƒØ±Ø§Ø±Ø§Øª</label>
        <input type="text" id="workoutSetsReps" placeholder="Ù…Ø«Ø§Ù„: 4 Ã— 12" required />
      </div>
      <div class="form-group">
        <label for="workoutRPE">Ø§Ù„Ø´Ø¯Ø© (RPE)</label>
        <input type="number" id="workoutRPE" min="1" max="10" step="0.1" required />
      </div>
      <div class="form-group">
        <label for="workoutDuration">Ø§Ù„Ù…Ø¯Ø© (Ø¯Ù‚Ø§Ø¦Ù‚)</label>
        <input type="number" id="workoutDuration" min="1" max="180" required />
      </div>
      <div class="form-group">
        <label for="workoutNotes">Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
        <textarea id="workoutNotes" rows="3" placeholder="Ø£Ø¶Ù Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©..."></textarea>
      </div>
      <div class="form-group text-center">
        <button type="submit" class="btn btn-secondary">Ø­ÙØ¸ Ø§Ù„ØªÙ…Ø±ÙŠÙ†</button>
        <button type="button" class="btn btn-outline" onclick="closeWorkoutModal()">Ø¥Ù„ØºØ§Ø¡</button>
      </div>
    </form>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  // Dark Mode Toggle
  function toggleDarkMode() {
    const body = document.body;
    const toggleSwitch = document.getElementById('toggleSwitch');
    body.classList.toggle('dark-mode');
    toggleSwitch.classList.toggle('active');
    // Save preference
    if(body.classList.contains('dark-mode')) {
      localStorage.setItem('darkMode', 'enabled');
    } else {
      localStorage.setItem('darkMode', 'disabled');
    }
  }

  // Load dark mode preference on page load
  window.addEventListener('DOMContentLoaded', () => {
    if(localStorage.getItem('darkMode') === 'enabled') {
      document.body.classList.add('dark-mode');
      document.getElementById('toggleSwitch').classList.add('active');
    }
    loadMeasurements();
    loadWorkouts();
    renderCharts();
  });

  // Calculate Macros and Calories
  function calculateMacros() {
    const weight = +document.getElementById('weight').value;
    const height = +document.getElementById('height').value;
    const age = +document.getElementById('age').value;

    // Basal Metabolic Rate (Mifflin-St Jeor Equation) for men
    const bmr = 10 * weight + 6.25 * height - 5 * age + 5;
    // Assuming moderate activity level
    const calories = Math.round(bmr * 1.55);

    // Macros based on calories (example: 40% carbs, 30% protein, 30% fat)
    const carbs = Math.round((calories * 0.4) / 4);
    const protein = Math.round((calories * 0.3) / 4);
    const fat = Math.round((calories * 0.3) / 9);

    document.getElementById('caloriesValue').textContent = calories + " ÙƒØ§Ù„ÙˆØ±ÙŠ";
    document.getElementById('macroResults').innerHTML = `
      <p><strong>Ø§Ù„ÙƒØ±Ø¨ÙˆÙ‡ÙŠØ¯Ø±Ø§Øª:</strong> ${carbs} Ø¬Ù…</p>
      <p><strong>Ø§Ù„Ø¨Ø±ÙˆØªÙŠÙ†:</strong> ${protein} Ø¬Ù…</p>
      <p><strong>Ø§Ù„Ø¯Ù‡ÙˆÙ†:</strong> ${fat} Ø¬Ù…</p>
    `;
  }

  // Meal Timer
  let mealTimerInterval;
  function startMealTimer() {
    const display = document.getElementById('mealTimerDisplay');
    let timeLeft = 2 * 60 * 60; // 2 hours in seconds
    display.classList.remove('hidden');

    clearInterval(mealTimerInterval);
    updateMealTimer();

    mealTimerInterval = setInterval(() => {
      timeLeft--;
      updateMealTimer();

      if(timeLeft <= 0) {
        clearInterval(mealTimerInterval);
        display.textContent = "ğŸ½ï¸ Ø­Ø§Ù† ÙˆÙ‚Øª Ø§Ù„ÙˆØ¬Ø¨Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©!";
        display.classList.add('finished');
      }
    }, 1000);

    function updateMealTimer() {
      const hours = Math.floor(timeLeft / 3600);
      const minutes = Math.floor((timeLeft % 3600) / 60);
      const seconds = timeLeft % 60;
      display.textContent = `â³ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„Ù„ÙˆØ¬Ø¨Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©: ${hours.toString().padStart(2,'0')}:${minutes.toString().padStart(2,'0')}:${seconds.toString().padStart(2,'0')}`;
      display.classList.remove('finished');
    }
  }

  // Measurement Modal Functions
  function showMeasurementModal() {
    document.getElementById('measurementModal').classList.add('active');
    document.getElementById('measurementForm').reset();
  }
  function closeMeasurementModal() {
    document.getElementById('measurementModal').classList.remove('active');
  }

  // Workout Modal Functions
  function showWorkoutModal() {
    document.getElementById('workoutModal').classList.add('active');
    document.getElementById('workoutForm').reset();
  }
  function closeWorkoutModal() {
    document.getElementById('workoutModal').classList.remove('active');
  }

  // Measurements Storage & Table Update
  function loadMeasurements() {
    const measurements = JSON.parse(localStorage.getItem('measurements') || '[]');
    const tbody = document.querySelector('#measurementsTable tbody');
    tbody.innerHTML = '';

    measurements.forEach((m, index) => {
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>${m.date}</td>
        <td>${m.weight}</td>
        <td>${m.arm}</td>
        <td>${m.chest}</td>
        <td>${m.waist}</td>
        <td>${m.thigh}</td>
        <td>${m.bodyFat}</td>
        <td>
          <button class="btn btn-outline" onclick="deleteMeasurement(${index})">Ø­Ø°Ù</button>
        </td>
      `;
      tbody.appendChild(tr);
    });
  }

  function saveMeasurement(e) {
    e.preventDefault();
    const measurements = JSON.parse(localStorage.getItem('measurements') || '[]');

    const newMeasurement = {
      date: document.getElementById('measurementDate').value,
      weight: parseFloat(document.getElementById('measurementWeight').value),
      arm: parseFloat(document.getElementById('measurementArm').value),
      chest: parseFloat(document.getElementById('measurementChest').value),
      waist: parseFloat(document.getElementById('measurementWaist').value),
      thigh: parseFloat(document.getElementById('measurementThigh').value),
      bodyFat: parseFloat(document.getElementById('measurementBodyFat').value),
    };

    measurements.push(newMeasurement);
    localStorage.setItem('measurements', JSON.stringify(measurements));
    loadMeasurements();
    renderCharts();
    closeMeasurementModal();
  }

  function deleteMeasurement(index) {
    const measurements = JSON.parse(localStorage.getItem('measurements') || '[]');
    measurements.splice(index, 1);
    localStorage.setItem('measurements', JSON.stringify(measurements));
    loadMeasurements();
    renderCharts();
  }

  // Workouts Storage & Table Update
  function loadWorkouts() {
    const workouts = JSON.parse(localStorage.getItem('workouts') || '[]');
    const tbody = document.querySelector('#workoutTable tbody');
    tbody.innerHTML = '';

    workouts.forEach((w, index) => {
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>${w.date}</td>
        <td>${w.name}</td>
        <td>${w.muscles}</td>
        <td>${w.setsReps}</td>
        <td>${w.rpe}</td>
        <td>${w.duration} Ø¯Ù‚ÙŠÙ‚Ø©</td>
        <td>${w.notes || ''}</td>
        <td>
          <button class="btn btn-outline" onclick="deleteWorkout(${index})">Ø­Ø°Ù</button>
        </td>
      `;
      tbody.appendChild(tr);
    });
  }

  function saveWorkout(e) {
    e.preventDefault();
    const workouts = JSON.parse(localStorage.getItem('workouts') || '[]');

    const newWorkout = {
      date: document.getElementById('workoutDate').value,
      name: document.getElementById('workoutName').value.trim(),
      muscles: document.getElementById('workoutMuscles').value.trim(),
      setsReps: document.getElementById('workoutSetsReps').value.trim(),
      rpe: parseFloat(document.getElementById('workoutRPE').value),
      duration: parseInt(document.getElementById('workoutDuration').value),
      notes: document.getElementById('workoutNotes').value.trim(),
    };

    workouts.push(newWorkout);
    localStorage.setItem('workouts', JSON.stringify(workouts));
    loadWorkouts();
    closeWorkoutModal();
  }

  function deleteWorkout(index) {
    const workouts = JSON.parse(localStorage.getItem('workouts') || '[]');
    workouts.splice(index, 1);
    localStorage.setItem('workouts', JSON.stringify(workouts));
    loadWorkouts();
  }

  // Attach form submit listeners
  document.getElementById('measurementForm').addEventListener('submit', saveMeasurement);
  document.getElementById('workoutForm').addEventListener('submit', saveWorkout);

  // Chart.js charts
  let weightChart, armChart, chestChart;
  function renderCharts() {
    const measurements = JSON.parse(localStorage.getItem('measurements') || '[]');

    // Sort by date ascending
    measurements.sort((a, b) => new Date(a.date) - new Date(b.date));

    const labels = measurements.map(m => m.date);
    const weightData = measurements.map(m => m.weight);
    const armData = measurements.map(m => m.arm);
    const chestData = measurements.map(m => m.chest);

    // Destroy previous charts if exist
    if(weightChart) weightChart.destroy();
    if(armChart) armChart.destroy();
    if(chestChart) chestChart.destroy();

    const ctxWeight = document.getElementById('weightChart').getContext('2d');
    weightChart = new Chart(ctxWeight, {
      type: 'line',
      data: {
        labels,
        datasets: [{
          label: 'Ø§Ù„ÙˆØ²Ù† (ÙƒØ¬Ù…)',
          data: weightData,
          borderColor: '#d62828',
          backgroundColor: 'rgba(214, 40, 40, 0.2)',
          fill: true,
          tension: 0.3,
          pointRadius: 4,
        }]
      },
      options: {
        responsive: true,
        scales: {
          y: { beginAtZero: false }
        }
      }
    });

    const ctxArm = document.getElementById('armChart').getContext('2d');
    armChart = new Chart(ctxArm, {
      type: 'line',
      data: {
        labels,
        datasets: [{
          label: 'Ù…Ø­ÙŠØ· Ø§Ù„Ø°Ø±Ø§Ø¹ (Ø³Ù…)',
          data: armData,
          borderColor: '#f77f00',
          backgroundColor: 'rgba(247, 127, 0, 0.2)',
          fill: true,
          tension: 0.3,
          pointRadius: 4,
        }]
      },
      options: {
        responsive: true,
        scales: {
          y: { beginAtZero: false }
        }
      }
    });

    const ctxChest = document.getElementById('chestChart').getContext('2d');
    chestChart = new Chart(ctxChest, {
      type: 'line',
      data: {
        labels,
        datasets: [{
          label: 'Ù…Ø­ÙŠØ· Ø§Ù„ØµØ¯Ø± (Ø³Ù…)',
          data: chestData,
          borderColor: '#003049',
          backgroundColor: 'rgba(0, 48, 73, 0.2)',
          fill: true,
          tension: 0.3,
          pointRadius: 4,
        }]
      },
      options: {
        responsive: true,
        scales: {
          y: { beginAtZero: false }
        }
      }
    });
  }
</script>

</body>
</html>
